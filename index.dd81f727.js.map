{"mappings":"oeAAO,MAAMA,EAAO,CAChBC,OAAQC,SAASC,cAAc,kBAC/BC,cAAeF,SAASC,cAAc,U,kBCE1CE,iBACI,IACI,MAAMC,QAAa,EAAAC,EAAAC,wBACnBC,QAAQC,IAAI,OAAQJ,GACpB,MAAMK,QAAEA,EAAOC,YAAEA,GAAgBN,EAE3BO,EAAQF,EAAQG,KAClB,EAACC,eAAEA,EAAcC,QAAEA,EAAOC,SAAEA,EAAQC,MAAEA,EAAKC,MAAEA,EAAKC,IAAEA,MAChD,IAAIC,EAAS,GAGb,MAAMC,EAASJ,EAAM,GAIrB,YAHeK,IAAXD,IACAD,EAASC,EAAO,kBAAkB,GAAGF,KAElC,C,SANQ,G,SACA,G,OAQXC,E,MACAF,E,QACAH,E,SACAC,E,eACAF,E,IACAK,EACH,IAGTX,QAAQC,IAAI,UAAWG,GAS/B,SAAuBA,GACnB,MAAMW,EAAgBX,EACjBC,KACG,EACIO,OAAEA,EAAMF,MAAEA,EAAKH,QAAEA,EAAOC,SAAEA,EAAQF,eAAEA,EAAcK,IAAEA,GACpDK,KAEA,GAAIC,OAAOC,WAAW,uBAAuBC,SACzC,GAAIH,EAAQ,EACR,YAED,GAAIC,OAAOC,WAAW,sBAAsBC,SAC/C,GAAIH,EAAQ,EACR,YAGJ,GAAIA,EAAQ,EACR,OAIR,MAAO,kEACgBT,uEAEbK,WAAgBF,qUAMHA,kDACGF,wDACMF,iCACvBK,qJAGA,IAGhBS,KAAK,IAGV7B,EAAKI,cAAc0B,mBAAmB,YAAaN,E,CAlD/CO,CAAclB,E,CAChB,MAAOmB,GACLvB,QAAQC,IAAIsB,E,EAIpBC","sources":["src/js/refs.js","src/js/main.js"],"sourcesContent":["export const refs = {\n    togler: document.querySelector('.theme__togler'),\n    newsContainer: document.querySelector('.news'),\n};\n","import { refs } from './refs';\n\nimport { fetchPopularArticles } from './fetch';\n\nasync function allData() {\n    try {\n        const data = await fetchPopularArticles();\n        console.log(`data`, data);\n        const { results, num_results } = data;\n\n        const users = results.map(\n            ({ published_date, section, abstract, media, title, url }) => {\n                let imgUrl = '';\n                let favorite = '';\n                let readMore = '';\n                const arrImg = media[0];\n                if (arrImg !== undefined) {\n                    imgUrl = arrImg['media-metadata'][2].url;\n                }\n                return {\n                    favorite,\n                    readMore,\n                    imgUrl,\n                    title,\n                    section,\n                    abstract,\n                    published_date,\n                    url,\n                };\n            }\n        );\n        console.log(`newsArr`, users);\n        renderGallery(users);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nallData();\n\nfunction renderGallery(users) {\n    const gallaryMarkup = users\n        .map(\n            (\n                { imgUrl, title, section, abstract, published_date, url },\n                index\n            ) => {\n                if (window.matchMedia('(min-width: 1280px)').matches) {\n                    if (index > 7) {\n                        return;\n                    }\n                } else if (window.matchMedia('(min-width: 768px)').matches) {\n                    if (index > 6) {\n                        return;\n                    }\n                } else {\n                    if (index > 3) {\n                        return;\n                    }\n                }\n\n                return `<div class=\"news__item\">\n            <p class=\"news__section\">${section}</p>\n            <div class=\"news__img\">\n              <img src=\"${imgUrl}\" alt=\"${title}\" loading=\"lazy\"/>\n              <button type=\"button\" class=\"news__btn\">Add to favorite\n              <svg class=\"news__btn-icon\" width=\"20\" height=\"20\">\n                <use href=\"#icon-heart-border\"></use>\n                </svg></button></div>\n            <div class=\"info\">\n              <p class=\"info__title\">${title}</p>\n              <p class=\"info__abstract\">${abstract}</p>\n              <p class=\"info__published-date\">${published_date}</p>\n              <a href=\"${url}\" target=\"_blank\"\n                rel=\"noopener noreferrer nofollow\"\n                 class=\"info__link\">Read more</a>\n            </div></div>`;\n            }\n        )\n        .join('');\n\n    // galleryContainer.innerHTML = gallaryMarkup;\n    refs.newsContainer.insertAdjacentHTML('beforeend', gallaryMarkup);\n}\n\n// const users1 = results.map(\n//     ({ published_date, section, abstract, media, title }) => {\n//         let url = '';\n//         const arr = media[0];\n//         if (arr !== undefined) {\n//             url = arr['media-metadata'][2].url;\n//         }\n//         return { url, section };\n//     }\n// );\n\n// `<div class=\"news__item\">\n//             <p class=\"news__section\">${section}</p>\n//             <div class=\"news__img\">\n//               <img src=\"${imgUrl}\" alt=\"${title}\" loading=\"lazy\"/>\n//               <button class=\"news__btn\">Add to favorite\n//               <svg class=\"news__btn-icon\" width=\"20\" height=\"20\">\n//                 <use href=\"./images/sprite.svg#icon-heart-border\"></use>\n//                 </svg></button></div>\n//             <div class=\"info\">\n//               <p class=\"info__title\">${title}</p>\n//               <p class=\"info__abstract\">${abstract}</p>\n//               <p class=\"info__published-date\">${published_date}</p>\n//               <a href=\"${url}\" target=\"_blank\"\n//                 rel=\"noopener noreferrer nofollow\"\n//                  class=\"info__link\">Read more</a>\n//             </div></div>`;\n\n// const tempArr = results.map(\n//     ({ published_date, section, abstract, media, title }) => {\n//         return {\n//             url: [index].media[0][\"media-metadata\"][2].url,\n//             title,\n//             section,\n//             abstract,\n//             published_date,\n//         };\n//     }\n// );\n// const bookGenres = book['genres'];\n\n// const users = results.map(\n//     ({ published_date, section, abstract, media, title }, index, arr) => {\n//         const image = data.results[0].media[0]['media-metadata'][2].url;\n//         const test = JSON.stringify(image);\n//         console.log(`image`, test);\n//         return {\n//             temp: index,\n//             url: test,\n//             title,\n//             section,\n//             abstract,\n//             published_date,\n//         };\n//     }\n// );\n\n// const { published_date, section, abstract, media, title } = results[8];\n\n// console.log(`results8`, results[8]);\n\n// console.log(`img`, media[0]['media-metadata'][2].url);\n// console.log(`title`, title);\n// console.log(`section`, section);\n// console.log(`abstract`, abstract);\n// console.log(`published_date`, published_date);\n// const user = {\n//     url: media[0]['media-metadata'][2].url,\n//     title,\n//     section,\n//     abstract,\n//     published_date,\n// };\n// console.log(`user`, user);\n\n// массив\n//     .map((element, index, array) => {\n//         // Тіло колбек-функції\n//         if (index === 2) {\n// <li class=\"weather\"></li>;\n//         }\n//     })\n//     .join('');\n"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","togler","document","querySelector","newsContainer","async","data","$cyIMT","fetchPopularArticles","console","log","results","num_results","users","map","published_date","section","abstract","media","title","url","imgUrl","arrImg","undefined","gallaryMarkup","index","window","matchMedia","matches","join","insertAdjacentHTML","$d706c914d748cb55$var$renderGallery","error","$d706c914d748cb55$var$allData"],"version":3,"file":"index.dd81f727.js.map"}